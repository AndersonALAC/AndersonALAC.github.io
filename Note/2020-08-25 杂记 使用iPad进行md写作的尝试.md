# 用iPad来进行md写作

## 为什么想用iPad来进行写作
从大一的第一个学期开始我就感受到了一台沉重的游戏笔记本给学习带来的负担有多重。即使是在当时已经精挑细选选了自以为达到了轻薄便携与性能之间的平衡点的aero15，实际使用过之后也觉得这样的一个终端实在是过于臃肿。在接触到iPad之后我就被它超级便携的特性吸引了。真正用来移动便携的设备就应该是这种样子，一本书的大小，草稿本的厚度，完全可以随手塞进包里不用担心脆弱的结构容易受到冲击散架。我想，用iPad来写一点笔记，给自己的学习过程做一个合适的记录应该会是一个不错的选择。

当然，理想很美好，但是现实却很残酷。苹果生态中的很多应用都是完全由苹果的平台独占的。iOS中最好的几款md编辑器，比如bear，比如mweb，都是仅提供mac端与iOS端应用的。像我这样一直坚持用各种杂牌军设备的，当然要面对应用支持的问题。反复对比了数款iOS上的md编辑器之后我还是选择mweb，主要是这东西的功能属实强大：除了是几款编辑器应用中少数支持LaTeX公式编译的，而且还支持导入css预览样式，支持上传图片到图床并且自动替换文中图片链接。这一点对于导出归档简直是十分的利好。cmd+R快速切换预览的手感也是上佳的。iOS上的编辑器似乎没有一款支持snippets，大家都一样那也无所谓了。

## 需要解决的几个问题
mweb本身作为编辑器的功能已经十分强大，vscode里的md该有的它都有了。主要需要解决的就是文件管理的问题。我希望能够除了在iPad上编辑以外，还能在桌面端编辑查看。mweb本身是自带iCloud和dropbox同步的，但是我不用iCloud，dropbox也闪退，最好的办法是让mweb打开一个files中的onedrive文件夹，然后直接读写onedrive上的文件。可惜的是onedrive根目录在files中是只读的，不能作为mweb的第三方文件夹。这里就需要用到另一个应用来当作文件管理中转站了。Textcode本身集成了github支持，按理来说应该能够让mweb直接编辑textcode clone下来的仓库，然后再由textcode push到云端。然而textcode目前还有新建文件闪退和无法push到云端的bug。这个解决方案也只能作罢。最终文件管理还是得用files来解决。在iPad上写完之后用files传到onedrive上导出备份，有空用电脑的时候sync到github上，也可以添加一些新的内容再上传到GitHub。iPad端开始写之前用textcode fetch一下拿到最新的版本在开始下一轮更新。
这样只能说是一个勉强能用的解决方案，还是希望textcode的作者能够加把劲把push的bug给修了，这样就不用再通过一个onedrive中转了。

另一个问题是所有写博客的人基本上都会碰到的：上传的图片需要一个稳定好用的图床，因为不可能每上传一个平台就重新整理一遍图片。能够获得一个稳定的图片链接是很方便的。
这里就直接使用了阿里的OSS对象存储服务。给我的阿里云账户新建了一个带有api key的子账户用来提供access key。注意填写好阿里云这个服务的相对应域名就可以自动上传图片和替换图片代码了。这样导出到onedrive的文档直接拉到GitHub上也能够显示出所有的图片。

下面是一个使用例：
![](https://image-service-alac.oss-cn-hangzhou.aliyuncs.com/2020/08/25/IMG2629.PNG)
